Environment variables loaded from .env
Prisma schema loaded from prisma/schema.prisma
Datasource "db": SQLite database "test.db" at "file:./test.db"

2 migrations found in prisma/migrations


No pending migrations to apply.
Environment variables loaded from .env
Prisma schema loaded from prisma/schema.prisma
Datasource "db": SQLite database "test.db" at "file:./test.db"

2 migrations found in prisma/migrations


No pending migrations to apply.
Environment variables loaded from .env
Prisma schema loaded from prisma/schema.prisma
Datasource "db": SQLite database "test.db" at "file:./test.db"

2 migrations found in prisma/migrations


No pending migrations to apply.
{"level":30,"time":1757705060509,"pid":114744,"hostname":"ricardo-Legion-5-15IAH7H","event":"auth_login_success","ip":"::ffff:127.0.0.1","ua":"","msg":"Login success"}
{"level":30,"time":1757705060511,"pid":114744,"hostname":"ricardo-Legion-5-15IAH7H","req":{"id":1,"method":"POST","url":"/auth/login","query":{},"params":{},"headers":{"host":"127.0.0.1:37923","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"49","connection":"close"},"remoteAddress":"::ffff:127.0.0.1","remotePort":48826},"res":{"statusCode":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"405","etag":"W/\"195-HfRJBMxOXo8jel9HN3FsufE3Hrc\""}},"responseTime":113,"msg":"request completed"}
{"level":40,"time":1757705060798,"pid":114744,"hostname":"ricardo-Legion-5-15IAH7H","event":"auth_login_failed","ip":"::ffff:127.0.0.1","ua":"","msg":"Login failed"}
{"level":30,"time":1757705060799,"pid":114744,"hostname":"ricardo-Legion-5-15IAH7H","req":{"id":2,"method":"POST","url":"/auth/login","query":{},"params":{},"headers":{"host":"127.0.0.1:34673","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"47","connection":"close"},"remoteAddress":"::ffff:127.0.0.1","remotePort":52584},"res":{"statusCode":401,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"35","etag":"W/\"23-UHCIAFM/swaAglwgDKKCnq2spSQ\""}},"responseTime":77,"msg":"request completed"}
{"level":40,"time":1757705061063,"pid":114744,"hostname":"ricardo-Legion-5-15IAH7H","event":"auth_login_failed","ip":"::ffff:127.0.0.1","ua":"","msg":"Login failed"}
{"level":30,"time":1757705061063,"pid":114744,"hostname":"ricardo-Legion-5-15IAH7H","req":{"id":3,"method":"POST","url":"/auth/login","query":{},"params":{},"headers":{"host":"127.0.0.1:42415","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"47","connection":"close"},"remoteAddress":"::ffff:127.0.0.1","remotePort":50116},"res":{"statusCode":401,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"35","etag":"W/\"23-UHCIAFM/swaAglwgDKKCnq2spSQ\""}},"responseTime":77,"msg":"request completed"}
{"level":40,"time":1757705061141,"pid":114744,"hostname":"ricardo-Legion-5-15IAH7H","event":"auth_login_failed","ip":"::ffff:127.0.0.1","ua":"","msg":"Login failed"}
{"level":30,"time":1757705061141,"pid":114744,"hostname":"ricardo-Legion-5-15IAH7H","req":{"id":4,"method":"POST","url":"/auth/login","query":{},"params":{},"headers":{"host":"127.0.0.1:40755","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"47","connection":"close"},"remoteAddress":"::ffff:127.0.0.1","remotePort":57724},"res":{"statusCode":401,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"35","etag":"W/\"23-UHCIAFM/swaAglwgDKKCnq2spSQ\""}},"responseTime":77,"msg":"request completed"}
{"level":40,"time":1757705061219,"pid":114744,"hostname":"ricardo-Legion-5-15IAH7H","event":"auth_login_failed","ip":"::ffff:127.0.0.1","ua":"","msg":"Login failed"}
{"level":30,"time":1757705061220,"pid":114744,"hostname":"ricardo-Legion-5-15IAH7H","req":{"id":5,"method":"POST","url":"/auth/login","query":{},"params":{},"headers":{"host":"127.0.0.1:46805","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"47","connection":"close"},"remoteAddress":"::ffff:127.0.0.1","remotePort":49680},"res":{"statusCode":401,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"35","etag":"W/\"23-UHCIAFM/swaAglwgDKKCnq2spSQ\""}},"responseTime":78,"msg":"request completed"}
{"level":40,"time":1757705061298,"pid":114744,"hostname":"ricardo-Legion-5-15IAH7H","event":"auth_login_failed","ip":"::ffff:127.0.0.1","ua":"","msg":"Login failed"}
{"level":30,"time":1757705061298,"pid":114744,"hostname":"ricardo-Legion-5-15IAH7H","req":{"id":6,"method":"POST","url":"/auth/login","query":{},"params":{},"headers":{"host":"127.0.0.1:34433","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"47","connection":"close"},"remoteAddress":"::ffff:127.0.0.1","remotePort":35512},"res":{"statusCode":401,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"35","etag":"W/\"23-UHCIAFM/swaAglwgDKKCnq2spSQ\""}},"responseTime":77,"msg":"request completed"}
{"level":40,"time":1757705061376,"pid":114744,"hostname":"ricardo-Legion-5-15IAH7H","event":"auth_login_failed","ip":"::ffff:127.0.0.1","ua":"","msg":"Login failed"}
{"level":30,"time":1757705061376,"pid":114744,"hostname":"ricardo-Legion-5-15IAH7H","req":{"id":7,"method":"POST","url":"/auth/login","query":{},"params":{},"headers":{"host":"127.0.0.1:44403","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"47","connection":"close"},"remoteAddress":"::ffff:127.0.0.1","remotePort":56770},"res":{"statusCode":401,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"35","etag":"W/\"23-UHCIAFM/swaAglwgDKKCnq2spSQ\""}},"responseTime":77,"msg":"request completed"}
{"level":30,"time":1757705061378,"pid":114744,"hostname":"ricardo-Legion-5-15IAH7H","req":{"id":8,"method":"POST","url":"/auth/login","query":{},"params":{},"headers":{"host":"127.0.0.1:36905","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"49","connection":"close"},"remoteAddress":"::ffff:127.0.0.1","remotePort":54386},"res":{"statusCode":423,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"42","etag":"W/\"2a-eQk0U+3w0/HGQ4botQUbx6pqDho\""}},"responseTime":1,"msg":"request completed"}
{"level":30,"time":1757705061585,"pid":114744,"hostname":"ricardo-Legion-5-15IAH7H","event":"password_reset_request","ip":"::ffff:127.0.0.1","ua":"","msg":"Password reset requested for test@nexus.dev"}
{"level":30,"time":1757705061585,"pid":114744,"hostname":"ricardo-Legion-5-15IAH7H","event":"email_send_simulated","to":"test@nexus.dev","msg":"Reset link: /reset-password?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAbmV4dXMuZGV2IiwidHlwZSI6InJlc2V0IiwiaWF0IjoxNzU3NzA1MDYxLCJleHAiOjE3NTc3MDU5NjF9.iw_jRINR-MA4QUZONUBv_wwh40Mpooqq2gUj_d35nzw"}
{"level":30,"time":1757705061586,"pid":114744,"hostname":"ricardo-Legion-5-15IAH7H","req":{"id":9,"method":"POST","url":"/auth/password-reset/request","query":{},"params":{},"headers":{"host":"127.0.0.1:39597","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"26","connection":"close"},"remoteAddress":"::ffff:127.0.0.1","remotePort":48506},"res":{"statusCode":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"50","etag":"W/\"32-7nPMPFSTQidlgtb5eEfsWELaVco\""}},"responseTime":22,"msg":"request completed"}
{"level":30,"time":1757705061697,"pid":114744,"hostname":"ricardo-Legion-5-15IAH7H","event":"password_reset_confirmed","msg":"Password updated for test@nexus.dev"}
{"level":30,"time":1757705061698,"pid":114744,"hostname":"ricardo-Legion-5-15IAH7H","req":{"id":10,"method":"POST","url":"/auth/password-reset/confirm","query":{},"params":{},"headers":{"host":"127.0.0.1:38737","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"218","connection":"close"},"remoteAddress":"::ffff:127.0.0.1","remotePort":43020},"res":{"statusCode":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"44","etag":"W/\"2c-J5znh+OgeHGpC/p6UBP/zMOZPQQ\""}},"responseTime":85,"msg":"request completed"}
{"level":30,"time":1757705061799,"pid":114744,"hostname":"ricardo-Legion-5-15IAH7H","event":"auth_login_success","ip":"::ffff:127.0.0.1","ua":"","msg":"Login success"}
{"level":30,"time":1757705061799,"pid":114744,"hostname":"ricardo-Legion-5-15IAH7H","req":{"id":11,"method":"POST","url":"/auth/login","query":{},"params":{},"headers":{"host":"127.0.0.1:41947","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"51","connection":"close"},"remoteAddress":"::ffff:127.0.0.1","remotePort":41126},"res":{"statusCode":200,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"405","etag":"W/\"195-F30GPtuwtI1gGN4ag4elIkV4eNc\""}},"responseTime":100,"msg":"request completed"}
{"level":30,"time":1757705062029,"pid":114744,"hostname":"ricardo-Legion-5-15IAH7H","req":{"id":12,"method":"POST","url":"/auth/password-reset/confirm","query":{},"params":{},"headers":{"host":"127.0.0.1:42167","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"218","connection":"close"},"remoteAddress":"::ffff:127.0.0.1","remotePort":41528},"res":{"statusCode":400,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"39","etag":"W/\"27-FF0ZegXPr8YAwlpYKRPfBcMqYpw\""}},"responseTime":2,"msg":"request completed"}
{"level":30,"time":1757705062071,"pid":114744,"hostname":"ricardo-Legion-5-15IAH7H","req":{"id":13,"method":"POST","url":"/auth/password-reset/confirm","query":{},"params":{},"headers":{"host":"127.0.0.1:44147","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"218","connection":"close"},"remoteAddress":"::ffff:127.0.0.1","remotePort":51462},"res":{"statusCode":400,"headers":{"x-powered-by":"Express","content-type":"application/json; charset=utf-8","content-length":"39","etag":"W/\"27-FF0ZegXPr8YAwlpYKRPfBcMqYpw\""}},"responseTime":2,"msg":"request completed"}
{"numTotalTestSuites":5,"numPassedTestSuites":4,"numFailedTestSuites":1,"numPendingTestSuites":0,"numTotalTests":6,"numPassedTests":6,"numFailedTests":0,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1757705057279,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["auth flows"],"fullName":"auth flows login exitoso → 200 + tokens","status":"passed","title":"login exitoso → 200 + tokens","duration":426.91990899999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["auth flows"],"fullName":"auth flows credenciales inválidas → 401 + failedAttempts++","status":"passed","title":"credenciales inválidas → 401 + failedAttempts++","duration":286.2370890000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["auth flows"],"fullName":"auth flows bloqueo tras N intentos → 423","status":"passed","title":"bloqueo tras N intentos → 423","duration":578.2716730000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["auth flows"],"fullName":"auth flows reset password → request → confirm → login con nueva contraseña funciona","status":"passed","title":"reset password → request → confirm → login con nueva contraseña funciona","duration":421.8982920000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["auth flows"],"fullName":"auth flows token expirado/ya usado → 400","status":"passed","title":"token expirado/ya usado → 400","duration":270.70676600000024,"failureMessages":[],"meta":{}}],"startTime":1757705060087,"endTime":1757705062071.7068,"status":"passed","message":"","name":"/home/ricardo/Documentos/Nexus/apps/api/tests/auth.test.ts"},{"assertionResults":[{"ancestorTitles":["DB constraints"],"fullName":"DB constraints prevents duplicate position within (projectId, status)","status":"passed","title":"prevents duplicate position within (projectId, status)","duration":226.60467199999994,"failureMessages":[],"meta":{}}],"startTime":1757705059976,"endTime":1757705060202.6047,"status":"passed","message":"","name":"/home/ricardo/Documentos/Nexus/apps/api/tests/db.test.ts"},{"assertionResults":[],"startTime":1757705057279,"endTime":1757705057279,"status":"failed","message":"No test suite found in file /home/ricardo/Documentos/Nexus/apps/api/tests/seed.test.ts","name":"/home/ricardo/Documentos/Nexus/apps/api/tests/seed.test.ts"}]}
